<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Digimon Trials — Area Encounters</title>

<style>
/* =====================
   THEME (MATCH INDEX)
===================== */
:root {
  --bg-main: #0f1115;
  --bg-panel: #171a21;
  --bg-card: #1f2430;
  --bg-subtle: #232838;

  --text-main: #f2f4f8;
  --text-dim: #a8b0c2;

  --border: rgba(255,255,255,0.08);
}

/* =====================
   BASE
===================== */
body {
  margin: 0;
  padding: 32px;
  background: var(--bg-main);
  color: var(--text-main);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
}

.app {
  max-width: 1400px;
  margin: auto;
}

/* =====================
   HEADER / NAV
===================== */
h1 {
  text-align: center;
}

.subtitle {
  text-align: center;
  margin-top: 6px;
  color: var(--text-dim);
  font-size: 0.95rem;
}

.nav {
  display: flex;
  justify-content: center;
  gap: 14px;
  margin: 24px 0;
}

.nav a {
  padding: 8px 18px;
  border-radius: 999px;
  border: 1px solid var(--border);
  text-decoration: none;
  color: var(--text-main);
  font-size: 0.8rem;
}

.nav a:hover {
  background: var(--bg-subtle);
}

/* =====================
   DROPDOWN NAV
===================== */
.dropdown {
  position: relative;
}

.dropdown-toggle {
  padding: 8px 18px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: none;
  color: var(--text-main);
  font-size: 0.8rem;
  cursor: pointer;
}

.dropdown-toggle:hover {
  background: var(--bg-subtle);
}

.dropdown-menu {
  position: absolute;
  top: 110%;
  left: 50%;
  transform: translateX(-50%);
  min-width: 180px;

  background: var(--bg-panel);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 6px;

  display: none;
  flex-direction: column;
  z-index: 50;
}

.dropdown-menu a {
  padding: 10px 14px;
  border-radius: 10px;
  text-decoration: none;
  color: var(--text-main);
  font-size: 0.75rem;
}

.dropdown-menu a:hover {
  background: var(--bg-subtle);
}





/* =====================
   SEARCH
===================== */
.search-wrapper {
  position: relative;
  max-width: 600px;
  margin: 0 auto 36px;
  padding: 6px;
  overflow: hidden;

  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.06),
    rgba(255, 255, 255, 0.02)
  );

  border-radius: 18px;
  box-shadow:
    inset 0 0 0 1px rgba(255, 255, 255, 0.06),
    0 10px 30px rgba(0, 0, 0, 0.45);
}

.search-box {
  width: 100%;
  height: 48px;
  padding: 0 42px 0 16px;

  font-size: 0.9rem;
  letter-spacing: 0.02em;
  line-height: 48px; /* ← THIS FIXES IT */

  background: transparent;
  color: var(--text-main);

  border: none;
  border-radius: 0;
}

.search-box::placeholder {
  color: var(--text-dim);
}

.search-box:focus {
  outline: none;
}

.search-clear {
  position: absolute;
  right: 18px;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  font-size: 1.1rem;
  color: var(--text-dim);
  cursor: pointer;
  display: none;
}

.search-clear:hover {
  color: var(--text-main);
}

/* =====================
   SECTIONS
===================== */
.section {
  margin-bottom: 22px;
  border: 1px solid var(--border);
  border-radius: 16px;
  background: var(--bg-panel);
  overflow: hidden;
}

.section-header {
  padding: 14px 18px;
  cursor: pointer;
  font-size: 0.75rem;
  letter-spacing: 0.18em;
  color: var(--text-dim);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.section-content {
  display: none;
  padding: 16px;
}

.section.open .section-content {
  display: block;
}

/* =====================
   ROUTES
===================== */
.route {
  border: 1px solid var(--border);
  border-radius: 14px;
  margin-bottom: 14px;
  background: var(--bg-card);
  overflow: hidden;
}

.route-header {
  padding: 12px 16px;
  cursor: pointer;
  font-size: 0.75rem;
  letter-spacing: 0.12em;
  color: var(--text-main);
  display: flex;
  justify-content: space-between;
}

.route-content {
  display: none;
  padding: 12px 14px;
}

.route.open .route-content {
  display: block;
}

/* =====================
   SUB-FOLDERS (WATER)
===================== */
.sub-folder {
  border: 1px dashed var(--border);
  border-radius: 14px;
  margin-bottom: 18px;
  background: var(--bg-subtle);
}

.sub-folder-header {
  padding: 12px 16px;
  font-size: 0.7rem;
  letter-spacing: 0.2em;
  cursor: pointer;
  color: var(--text-dim);
  display: flex;
  justify-content: space-between;
}

.sub-folder-content {
  display: none;
  padding: 14px;
}

.sub-folder.open .sub-folder-content {
  display: block;
}

/* =====================
   ENCOUNTER GRID
===================== */
.encounter-grid {
  display: grid;
  grid-template-columns: 1.6fr 0.7fr 1fr;
  gap: 8px;
  font-size: 0.75rem;
  padding: 6px 0;
  border-bottom: 1px dashed var(--border);
}

.encounter-grid.header {
  font-size: 0.65rem;
  letter-spacing: 0.1em;
  color: var(--text-dim);
  border-bottom: 1px solid var(--border);
}

/* =====================
   FOOTER
===================== */
.footer {
  margin-top: 26px;
  text-align: center;
  font-size: 0.65rem;
  color: var(--text-dim);
}



</style>
</head>

<body>
<div class="app">

  <h1>AREA ENCOUNTERS</h1>
  <div class="subtitle">Wild Digimon Encounters</div>

<div class="nav">
  <a href="index.html">DIGIMON</a>

  <div class="dropdown">
    <button class="dropdown-toggle">GUIDE ▾</button>
    <div class="dropdown-menu">
      <a href="encounter.html">Encounters</a>
    </div>
  </div>
</div>


<div class="search-wrapper">
  <textarea
    class="search-box"
    rows="2"
    placeholder="Search route, Digimon, item, route number...">
  </textarea>
  <button class="search-clear" title="Clear search">×</button>
</div>


  <!-- EARTH -->
  <div class="section open">
    <div class="section-header">EARTH / LAND ▾</div>
    <div class="section-content">

      <div class="route">
        <div class="route-header">ROUTE 101 ▾</div>
        <div class="route-content">
          <div class="encounter-grid header">
            <span>DIGIMON</span><span>LV</span><span>ITEM</span>
          </div>
          <div class="encounter-grid"><span>Gazimon</span><span>5</span><span>—</span></div>
          <div class="encounter-grid"><span>Agumon</span><span>5</span><span>—</span></div>
          <div class="encounter-grid"><span>Veemon</span><span>5</span><span>Fire Data</span></div>
        </div>
      </div>

    </div>
  </div>

  <!-- WATER -->
  <div class="section">
    <div class="section-header">WATER ▾</div>
    <div class="section-content">

      <!-- SURF -->
      <div class="sub-folder open">
        <div class="sub-folder-header">SURFING ▾</div>
        <div class="sub-folder-content">
          <p style="font-size:0.8rem;color:var(--text-dim)">To be added</p>
        </div>
      </div>

      <!-- ROD -->
      <div class="sub-folder open">
        <div class="sub-folder-header">FISHING ROD ▾</div>
        <div class="sub-folder-content">

<!-- ROUTE 118 -->
<div class="route">
  <div class="route-header">ROUTE 118 ▾</div>
  <div class="route-content">

    <div class="encounter-grid header">
      <span>OLD ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>Sangomon</span><span>10</span><span>Water Data</span></div>
    <div class="encounter-grid"><span>Numemon</span><span>18</span><span>—</span></div>

    <div class="encounter-grid header">
      <span>GOOD ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>Dolphmon</span><span>20–30</span><span>—</span></div>
    <div class="encounter-grid"><span>Numemon</span><span>20–30</span><span>—</span></div>
    <div class="encounter-grid"><span>Tobiumon</span><span>20–30</span><span>—</span></div>

    <div class="encounter-grid header">
      <span>SUPER ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>Seadramon</span><span>30–31</span><span>—</span></div>
    <div class="encounter-grid"><span>Tylomon</span><span>30–31</span><span>—</span></div>
    <div class="encounter-grid"><span>Gesomon</span><span>31</span><span>—</span></div>
    <div class="encounter-grid"><span>Huankumon</span><span>40</span><span>Water Data</span></div>
    <div class="encounter-grid"><span>Piranimon</span><span>40–45</span><span>—</span></div>

  </div>
</div>

<!-- ROUTE 119 -->
<div class="route">
  <div class="route-header">ROUTE 119 ▾</div>
  <div class="route-content">

    <div class="encounter-grid header">
      <span>OLD ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>Sangomon</span><span>10</span><span>Water Data</span></div>
    <div class="encounter-grid"><span>Numemon</span><span>18</span><span>—</span></div>

    <div class="encounter-grid header">
      <span>GOOD ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>Dolphmon</span><span>20–30</span><span>—</span></div>
    <div class="encounter-grid"><span>Numemon</span><span>20–30</span><span>—</span></div>
    <div class="encounter-grid"><span>Tobiumon</span><span>20–30</span><span>—</span></div>

    <div class="encounter-grid header">
      <span>SUPER ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>Seadramon</span><span>30–31</span><span>—</span></div>
    <div class="encounter-grid"><span>Tylomon</span><span>30–31</span><span>—</span></div>
    <div class="encounter-grid"><span>Gesomon</span><span>31</span><span>—</span></div>
    <div class="encounter-grid"><span>Huankumon</span><span>40</span><span>Water Data</span></div>
    <div class="encounter-grid"><span>Piranimon</span><span>40–45</span><span>—</span></div>

  </div>
</div>

<!-- ROUTE 120 -->
<div class="route">
  <div class="route-header">ROUTE 120 ▾</div>
  <div class="route-content">

    <div class="encounter-grid header">
      <span>OLD ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>Numemon</span><span>20</span><span>—</span></div>
    <div class="encounter-grid"><span>Kamemon</span><span>17</span><span>Water Data</span></div>

    <div class="encounter-grid header">
      <span>GOOD ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>Gawappamon</span><span>30</span><span>—</span></div>
    <div class="encounter-grid"><span>Dolphmon</span><span>20–30</span><span>—</span></div>
    <div class="encounter-grid"><span>Tobiumon</span><span>20–30</span><span>—</span></div>

    <div class="encounter-grid header">
      <span>SUPER ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>Gesomon</span><span>31</span><span>—</span></div>
    <div class="encounter-grid"><span>Seadramon</span><span>30–31</span><span>—</span></div>
    <div class="encounter-grid"><span>Tylomon</span><span>30–31</span><span>—</span></div>
    <div class="encounter-grid"><span>Huankumon</span><span>40</span><span>Water Data</span></div>
    <div class="encounter-grid"><span>Piranimon</span><span>40–45</span><span>—</span></div>

  </div>
</div>

<!-- ROUTES 121–123 -->
<div class="route">
  <div class="route-header">ROUTES 121, 122, 123 ▾</div>
  <div class="route-content">

    <div class="encounter-grid header">
      <span>OLD ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>Numemon</span><span>20</span><span>—</span></div>
    <div class="encounter-grid"><span>Jellymon</span><span>17</span><span>—</span></div>

    <div class="encounter-grid header">
      <span>GOOD ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>Numemon</span><span>30</span><span>—</span></div>
    <div class="encounter-grid"><span>Seadramon</span><span>30</span><span>—</span></div>
    <div class="encounter-grid"><span>Sukamon</span><span>30</span><span>—</span></div>

    <div class="encounter-grid header">
      <span>SUPER ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>Piranimon</span><span>42</span><span>—</span></div>
    <div class="encounter-grid"><span>MegaSeadramon</span><span>42</span><span>—</span></div>
    <div class="encounter-grid"><span>Huankumon</span><span>42</span><span>Water Data</span></div>
    <div class="encounter-grid"><span>Hangyomon</span><span>42</span><span>—</span></div>

  </div>
</div>

<!-- SAFARI ZONE — SECTION 1 -->
<div class="route">
  <div class="route-header">SAFARI ZONE — SECTION 1 ▾</div>
  <div class="route-content">

    <div class="encounter-grid header">
      <span>OLD ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>Jellymon</span><span>5–10</span><span>Water Data</span></div>
    <div class="encounter-grid"><span>Sangomon</span><span>5–10</span><span>Water Data</span></div>

    <div class="encounter-grid header">
      <span>GOOD ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>Ranamon</span><span>10–30</span><span>—</span></div>
    <div class="encounter-grid"><span>Seadramon</span><span>10–30</span><span>—</span></div>
    <div class="encounter-grid"><span>Tobiumon</span><span>18–25</span><span>—</span></div>

    <div class="encounter-grid header">
      <span>SUPER ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>MegaSeadramon</span><span>32</span><span>—</span></div>
    <div class="encounter-grid"><span>Mermaimon</span><span>32–35</span><span>Water Data</span></div>
    <div class="encounter-grid"><span>Piranimon</span><span>45</span><span>—</span></div>
    <div class="encounter-grid"><span>Marine Bullmon</span><span>32–35</span><span>—</span></div>

  </div>
</div>

<!-- SAFARI ZONE — SECTION 2 -->
<div class="route">
  <div class="route-header">SAFARI ZONE — SECTION 2 ▾</div>
  <div class="route-content">

    <div class="encounter-grid header">
      <span>OLD ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>Jellymon</span><span>5–10</span><span>Water Data</span></div>
    <div class="encounter-grid"><span>Sangomon</span><span>5–10</span><span>Water Data</span></div>

    <div class="encounter-grid header">
      <span>GOOD ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>Ranamon</span><span>10–30</span><span>—</span></div>
    <div class="encounter-grid"><span>Seadramon</span><span>10–30</span><span>—</span></div>
    <div class="encounter-grid"><span>Tobiumon</span><span>18–25</span><span>—</span></div>

    <div class="encounter-grid header">
      <span>SUPER ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>MegaSeadramon</span><span>32</span><span>—</span></div>
    <div class="encounter-grid"><span>Mermaimon</span><span>32–35</span><span>Water Data</span></div>
    <div class="encounter-grid"><span>Piranimon</span><span>45</span><span>—</span></div>
    <div class="encounter-grid"><span>Marine Bullmon</span><span>32–35</span><span>—</span></div>

  </div>
</div>

<!-- SAFARI ZONE — SECTION 5 -->
<div class="route">
  <div class="route-header">SAFARI ZONE — SECTION 5 ▾</div>
  <div class="route-content">

    <div class="encounter-grid header">
      <span>OLD ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>AncientVolcamon</span><span>25–30</span><span>Earth Data</span></div>
    <div class="encounter-grid"><span>Numemon</span><span>25–30</span><span>—</span></div>

    <div class="encounter-grid header">
      <span>GOOD ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>HiCommandramon</span><span>25–35</span><span>—</span></div>
    <div class="encounter-grid"><span>AncientVolcamon</span><span>25–30</span><span>—</span></div>

    <div class="encounter-grid header">
      <span>SUPER ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>HiCommandramon</span><span>25–35</span><span>—</span></div>
    <div class="encounter-grid"><span>Cargodramon</span><span>35–40</span><span>—</span></div>

  </div>
</div>

<!-- LILYCOVE / MOSDEEP / SHOAL CAVE / ROUTES 124–127 -->
<div class="route">
  <div class="route-header">
    LILYCOVE CITY, MOSDEEP CITY, SHOAL CAVE — ROUTES 124–127 ▾
  </div>
  <div class="route-content">

    <div class="encounter-grid header">
      <span>OLD ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>Crabmon</span><span>15</span><span>—</span></div>
    <div class="encounter-grid"><span>Gizamon</span><span>15</span><span>Water Data</span></div>

    <div class="encounter-grid header">
      <span>GOOD ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>Ebidramon</span><span>20–30</span><span>—</span></div>
    <div class="encounter-grid"><span>Gesomon</span><span>20–30</span><span>—</span></div>

    <div class="encounter-grid header">
      <span>SUPER ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>Submarimon</span><span>30</span><span>—</span></div>
    <div class="encounter-grid"><span>Whamon</span><span>32 / 40</span><span>—</span></div>
    <div class="encounter-grid"><span>Mermaimon</span><span>40–44</span><span>Water Data</span></div>
    <div class="encounter-grid"><span>MegaSeadramon</span><span>40</span><span>—</span></div>

  </div>
</div>

<!-- PACIFIDLOG / EVER GRANDE / ROUTES 128–134 -->
<div class="route">
  <div class="route-header">
    PACIFIDLOG TOWN, EVER GRANDE CITY — ROUTES 128–134 ▾
  </div>
  <div class="route-content">

    <div class="encounter-grid header">
      <span>OLD ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>Crabmon</span><span>15</span><span>—</span></div>
    <div class="encounter-grid"><span>Gizamon</span><span>15</span><span>Water Data</span></div>

    <div class="encounter-grid header">
      <span>GOOD ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>Ebidramon</span><span>30</span><span>—</span></div>
    <div class="encounter-grid"><span>Tylomon</span><span>30–32</span><span>—</span></div>
    <div class="encounter-grid"><span>Gesomon</span><span>30</span><span>—</span></div>

    <div class="encounter-grid header">
      <span>SUPER ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>Whamon</span><span>50</span><span>Water Data</span></div>
    <div class="encounter-grid"><span>Mermaimon</span><span>50</span><span>—</span></div>
    <div class="encounter-grid"><span>MegaSeadramon</span><span>50</span><span>—</span></div>
    <div class="encounter-grid"><span>Hangyomon</span><span>50</span><span>—</span></div>

  </div>
</div>

<!-- VICTORY ROAD BF2 -->
<div class="route">
  <div class="route-header">VICTORY ROAD BF2 ▾</div>
  <div class="route-content">

    <div class="encounter-grid header">
      <span>OLD ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>Numemon</span><span>20–30</span><span>—</span></div>

    <div class="encounter-grid header">
      <span>GOOD ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>Numemon</span><span>40–60</span><span>—</span></div>
    <div class="encounter-grid"><span>Sukamon</span><span>50–60</span><span>—</span></div>

    <div class="encounter-grid header">
      <span>SUPER ROD</span><span>LEVEL</span><span>HELD ITEM</span>
    </div>
    <div class="encounter-grid"><span>Numemon</span><span>45–50</span><span>—</span></div>

  </div>
</div>

        </div>
      </div>

    </div>
  </div>

  <div class="footer">Digimon Trials — Fan Project</div>

</div>
<script>
/* =========================
   TOGGLES
========================= */
document.querySelectorAll(".section-header").forEach(h =>
  h.addEventListener("click", () =>
    h.parentElement.classList.toggle("open")
  )
);

document.querySelectorAll(".sub-folder-header").forEach(h =>
  h.addEventListener("click", () =>
    h.parentElement.classList.toggle("open")
  )
);

document.querySelectorAll(".route-header").forEach(h =>
  h.addEventListener("click", () =>
    h.parentElement.classList.toggle("open")
  )
);

/* =========================
   SEARCH CORE
========================= */
const searchInput = document.querySelector(".search-box");
const clearBtn = document.querySelector(".search-clear");
const routes = [...document.querySelectorAll(".route")];
const sections = [...document.querySelectorAll(".section")];
const subFolders = [...document.querySelectorAll(".sub-folder")];

function normalize(str) {
  return str.toLowerCase().replace(/[^\w\s\-–]/g, "").trim();
}

function extractNumbers(str) {
  return str.match(/\d+/g)?.map(Number) || [];
}

function extractRanges(str) {
  const ranges = [];
  const regex = /(\d+)\s*[–-]\s*(\d+)/g;
  let m;
  while ((m = regex.exec(str))) {
    ranges.push([+m[1], +m[2]]);
  }
  return ranges;
}

function inRange(n, r) {
  return n >= r[0] && n <= r[1];
}

/* Build index once */
routes.forEach(route => {
  const text =
    route.querySelector(".route-header")?.innerText + " " +
    route.querySelector(".route-content")?.innerText;

  const norm = normalize(text);
  route.dataset.search = norm;
  route.dataset.numbers = extractNumbers(norm).join(",");
  route.dataset.ranges = JSON.stringify(extractRanges(norm));
});

let debounce;
searchInput.addEventListener("input", () => {
  clearTimeout(debounce);
  debounce = setTimeout(runSearch, 120);
  clearBtn.style.display = searchInput.value ? "block" : "none";
});

function runSearch() {
  const q = normalize(searchInput.value);
  const nums = extractNumbers(q);
  const ranges = extractRanges(q);
  const active = q.length > 0;

  /* Collapse everything first */
  sections.forEach(s => s.classList.remove("open"));
  subFolders.forEach(sf => sf.classList.remove("open"));

  routes.forEach(route => {
    if (!active) {
      route.style.display = "";
      route.classList.remove("open");
      return;
    }

    let match = route.dataset.search.includes(q);

    const rNums = route.dataset.numbers.split(",").map(Number);
    const rRanges = JSON.parse(route.dataset.ranges || "[]");

    nums.forEach(n => {
      if (rNums.includes(n)) match = true;
      rRanges.forEach(r => inRange(n, r) && (match = true));
    });

    ranges.forEach(r => {
      rNums.forEach(n => inRange(n, r) && (match = true));
      rRanges.forEach(rr =>
        (inRange(rr[0], r) || inRange(rr[1], r)) && (match = true)
      );
    });

    route.style.display = match ? "" : "none";
    route.classList.toggle("open", match);

    if (match) {
      route.closest(".sub-folder")?.classList.add("open");
      route.closest(".section")?.classList.add("open");
    }
  });
}

/* =========================
   CLEAR / RESET
========================= */
function resetView() {
  searchInput.value = "";
  clearBtn.style.display = "none";

  routes.forEach(r => {
    r.style.display = "";
    r.classList.remove("open");
  });

  sections.forEach(s => s.classList.remove("open"));
  subFolders.forEach(sf => sf.classList.remove("open"));
}

clearBtn.addEventListener("click", resetView);
document.addEventListener("keydown", e => e.key === "Escape" && resetView());
</script>

<!-- /* =========================
   NAV
========================= */ -->

<script>
const dropdown = document.querySelector(".dropdown");
const toggle = dropdown.querySelector(".dropdown-toggle");
const menu = dropdown.querySelector(".dropdown-menu");

toggle.addEventListener("click", e => {
  e.stopPropagation();
  menu.style.display = menu.style.display === "flex" ? "none" : "flex";
});

document.addEventListener("click", () => {
  menu.style.display = "none";
});
</script>



</body>
</html>
